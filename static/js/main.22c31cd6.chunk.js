(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var i=c(0),s=c(1),a=c.n(s),n=c(7),l=c.n(n),o=(c(14),c(8)),r=c(2),d=c(3),h=c(5),v=c(4),j=function(e){Object(h.a)(c,e);var t=Object(v.a)(c);function c(){var e;Object(r.a)(this,c);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={willWatch:!1},e}return Object(d.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.data,s=t.deleteMovie,a=t.addMovieToWillWatch,n=t.deleteMovieFromWillWatch;return Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(c.backdrop_path||c.poster_path),alt:""}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h6",{className:"card-title",children:c.title}),Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("p",{className:"mb-0",children:["Rating: ",c.vote_average]}),this.state.willWatch?Object(i.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),n(c)},children:"Will Watch"}):Object(i.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.setState({willWatch:!0}),a(c)},children:"Will Watch"})]}),Object(i.jsx)("button",{type:"button",onClick:function(){s(c)},children:"Delete"})]})]})}}]),c}(a.a.Component),u=function(e){var t=e.sort_by,c=e.updateSortBy,s=function(e){return function(t){c(e)}},a=function(e){return"nav-link ".concat(t===e?"active":"")};return Object(i.jsxs)("ul",{className:"tabs nav nav-pills",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("div",{className:a("popularity.desc"),onClick:s("popularity.desc"),children:"Popularity desc"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("div",{className:a("revenue.desc"),onClick:s("revenue.desc"),children:"Revenue  desc"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("div",{className:a("vote_average.desc"),onClick:s("vote_average.desc"),children:"Vote average"})})]})},b=function(e){Object(h.a)(c,e);var t=Object(v.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).getMovies=function(){fetch("".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(e.state.sort_by,"&page=").concat(e.state.page)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results})}))},e.deleteMovie=function(t){var c=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:c})},e.addMovieToWillWatch=function(t){var c=Object(o.a)(e.state.moviesWillWatch);c.push(t),e.setState({moviesWillWatch:c})},e.deleteMovieFromWillWatch=function(t){var c=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:c})},e.updateSortBy=function(t){e.setState({sort_by:t})},e.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc"},e}return Object(d.a)(c,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t,c){t.sort_by!==this.state.sort_by&&this.getMovies()}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"row mt-4",children:[Object(i.jsxs)("div",{className:"col-9",children:[Object(i.jsx)("div",{className:"row mb-4",children:Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)(u,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy})})}),Object(i.jsx)("div",{className:"row",children:this.state.movies.map((function(t){return Object(i.jsx)("div",{className:"col-6 mb-4",children:Object(i.jsx)(j,{data:t,deleteMovie:e.deleteMovie,addMovieToWillWatch:e.addMovieToWillWatch,deleteMovieFromWillWatch:e.deleteMovieFromWillWatch})},t.id)}))})]}),Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsxs)("h4",{children:["Will Watch: ",this.state.moviesWillWatch.length," movies"]}),Object(i.jsx)("ul",{className:"list-group",children:this.state.moviesWillWatch.map((function(e){return Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)("p",{children:e.title}),Object(i.jsx)("p",{children:e.vote_average})]})},e.id)}))})]})]})})}}]),c}(a.a.Component),m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,16)).then((function(t){var c=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,n=t.getTTFB;c(e),i(e),s(e),a(e),n(e)}))};l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.22c31cd6.chunk.js.map